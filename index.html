<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas钟表</title>
<style type="text/css">
	*{ margin: 0; padding: 0; }body{ background: yellow; }
	#cavs{ background: #fff; }
</style>
</head>
<body>
<canvas id="cavs" width="500" height="500"></canvas>
<script type="text/javascript">
 var ocavs = document.getElementById("cavs");
 var ctx = ocavs.getContext("2d");

 function drawTime(){
 	var x = 200;
 	var y = 200;
 	var r = 150;
 	ctx.clearRect(0,0,ocavs.width,ocavs.height);
 	var oDate = new Date();
 	var oH = oDate.getHours();
 	var oMin = oDate.getMinutes();
 	var osec = oDate.getSeconds();

 	var oHvalue = (-90+oH*30+oMin/2)*Math.PI/180;
 	var oMinvalue = (-90+oMin*6)*Math.PI/180;
 	var osecvalue = (-90+osec*6)*Math.PI/180;

 	ctx.beginPath();
 	for(var i=0; i<60; i++){
 		ctx.moveTo(x,y);
 		ctx.arc(x,y,r,6*i*Math.PI/180,6*(i+1)*Math.PI/180,false);
 	}
 	ctx.closePath();
 	ctx.stroke();

 	ctx.fillStyle = "white";
 	ctx.beginPath();
 	ctx.moveTo(x,y);
 	ctx.arc(x,y,r*19/20,0,360*Math.PI/180,false);
 	ctx.closePath();
 	ctx.fill();

 	ctx.lineWidth = 3;
 	ctx.beginPath();
 	for(var i=0; i<12; i++){
 		ctx.moveTo(x,y);
 		ctx.arc(x,y,r,30*i*Math.PI/180,30*(i+1)*Math.PI/180,false);
 	}
 	ctx.closePath();
 	ctx.stroke();

 	ctx.fillStyle = "white";
 	ctx.beginPath();
 	ctx.moveTo(x,y);
 	ctx.arc(x,y,r*18/20,0,360*Math.PI/180,false);
 	ctx.closePath();
 	ctx.fill();

 	ctx.lineWidth = 5;
 	ctx.beginPath();
 	ctx.moveTo(x,y);
 	ctx.arc(x,y,r*10/20,oHvalue,oHvalue,false);
 	ctx.closePath();
 	ctx.stroke();

 	ctx.lineWidth = 3;
 	ctx.beginPath();
 	ctx.moveTo(x,y);
 	ctx.arc(x,y,r*14/20,oMinvalue,oMinvalue,false);
 	ctx.closePath();
 	ctx.stroke();

 	ctx.lineWidth = 1;
 	ctx.beginPath();
 	ctx.moveTo(x,y);
 	ctx.arc(x,y,r*19/20,osecvalue,osecvalue,false);
 	ctx.closePath();
 	ctx.stroke();
 }
 setInterval(drawTime,1000);
 drawTime();
</script>
</body>
</html>